{"version":3,"file":"static/js/630.82947be7.chunk.js","mappings":"4JAMA,IAJqB,SAAC,GAAiB,IAAfA,EAAc,EAAdA,QACtB,OAAO,cAAGC,UAAU,QAAb,SAAsBD,GAC9B,C,uJCkBKE,GAAmBC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IAoE9B,UAlEwB,WAAO,IAAD,IACpBC,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAE9CC,GAAcC,EAAAA,EAAAA,KAAY,SAAAH,GAAK,OAAIA,EAAME,YAAYE,eAAtB,IAC/BC,GAAYF,EAAAA,EAAAA,KAAY,SAAAH,GAAK,OAAIA,EAAME,YAAYG,SAAtB,IAC7BC,GAAQH,EAAAA,EAAAA,KAAY,SAAAH,GAAK,OAAIA,EAAME,YAAYI,KAAtB,IACzBC,GAAWC,EAAAA,EAAAA,MA2BjB,OAtBAC,EAAAA,EAAAA,YAAU,WACR,GAAKf,EAAL,CAEA,IAAMgB,EAAa,mCAAG,oGAGlBH,GAASI,EAAAA,EAAAA,KAAa,IAHJ,UAIKC,EAAAA,EAAAA,IAAalB,GAJlB,OAIZmB,EAJY,OAMlBN,GAASO,EAAAA,EAAAA,IAAeD,IANN,gDASlBN,GAASQ,EAAAA,EAAAA,IAAS,KAAMzB,UATN,yBAYlBiB,GAASI,EAAAA,EAAAA,KAAa,IAZJ,4EAAH,qDAgBnBD,GAlBmB,CAmBpB,GAAE,CAAChB,EAAQa,KAGV,4BACE,SAAC,KAAD,CAAMS,GAAIlB,EAAamB,QAAvB,SAAgC,aAChC,mBAAQC,QAAS,kBAAMX,GAASY,EAAAA,EAAAA,IAAQ,CAAEC,MAAO,MAAOC,KAAM,QAA7C,EAAjB,SAAyE,+BAIxEhB,IAAa,SAAC,IAAD,IACbC,IAAS,SAAC,IAAD,CAAchB,QAASgB,IAChB,OAAhBJ,IACC,4BACE,0BAAI,eAAaA,EAAYkB,UAC7B,yBAAG,cAAYlB,EAAYmB,YAI/B,0BACE,SAAC,KAAD,CAASL,GAAG,WAAWzB,UAAU,cAAjC,SAA+C,gBAKjD,SAAC,EAAA+B,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAOC,KAAK,WAAWC,SAAS,SAACjC,EAAD,YAKzC,C,mJCtFYkC,EAAU,mCAAG,sGACDC,EAAAA,EAAAA,IACrB,+CAFsB,uBAChBC,EADgB,EAChBA,KADgB,kBAIjBA,GAJiB,2CAAH,qDAOVhB,EAAY,mCAAG,WAAMlB,GAAN,yFACHiC,EAAAA,EAAAA,IAAA,qDACyBjC,IAFtB,uBAClBkC,EADkB,EAClBA,KADkB,kBAInBA,GAJmB,2CAAH,sDAOZC,EAAoB,mCAAG,WAAMnC,GAAN,yFACXiC,EAAAA,EAAAA,IAAA,qDACyBjC,EADzB,cADW,uBAC1BkC,EAD0B,EAC1BA,KAD0B,kBAI3BA,GAJ2B,2CAAH,qD","sources":["components/ErrorMessage.jsx","pages/PostDetailsPage.jsx","services/api.js"],"sourcesContent":["import React from 'react';\n\nconst ErrorMessage = ({ message }) => {\n  return <p className=\"error\">{message}</p>;\n};\n\nexport default ErrorMessage;\n","import React, { Suspense, lazy, useEffect, useRef } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\n// import PostCommentsPage from './PostCommentsPage';\nimport Loader from 'components/Loader';\nimport ErrorMessage from 'components/ErrorMessage';\n\nimport { findPostById } from 'services/api';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  addPost,\n  setError,\n  setIsLoading,\n  setPostDetails,\n} from 'redux/postDetailReducer';\n\nconst PostCommentsPage = lazy(() => import('pages/PostCommentsPage'));\n\nconst PostDetailsPage = () => {\n  const { postId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  const postDetails = useSelector(state => state.postDetails.postDetailsData);\n  const isLoading = useSelector(state => state.postDetails.isLoading);\n  const error = useSelector(state => state.postDetails.error);\n  const dispatch = useDispatch();\n  // const [postDetails, setPostDetails] = useState(null);\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!postId) return;\n\n    const fetchAllPosts = async () => {\n      try {\n        // setIsLoading(true);\n        dispatch(setIsLoading(true));\n        const postData = await findPostById(postId);\n        // setPostDetails(postData);\n        dispatch(setPostDetails(postData));\n      } catch (error) {\n        // setError(error.message);\n        dispatch(setError(error.message));\n      } finally {\n        // setIsLoading(false);\n        dispatch(setIsLoading(false));\n      }\n    };\n\n    fetchAllPosts();\n  }, [postId, dispatch]);\n\n  return (\n    <div>\n      <Link to={backLinkHref.current}>Go Back</Link>\n      <button onClick={() => dispatch(addPost({ title: '123', body: '123' }))}>\n        Click to add post to STATE\n      </button>\n\n      {isLoading && <Loader />}\n      {error && <ErrorMessage message={error} />}\n      {postDetails !== null && (\n        <div>\n          <h2>Post Title: {postDetails.title}</h2>\n          <p>Post Body: {postDetails.body}</p>\n        </div>\n      )}\n\n      <div>\n        <NavLink to=\"comments\" className=\"header-link\">\n          Comments\n        </NavLink>\n      </div>\n\n      <Suspense fallback={<Loader />}>\n        <Routes>\n          <Route path=\"comments\" element={<PostCommentsPage />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default PostDetailsPage;\n","import axios from 'axios';\n\nexport const fetchPosts = async () => {\n  const { data } = await axios.get(\n    'https://jsonplaceholder.typicode.com/posts/'\n  );\n  return data;\n};\n\nexport const findPostById = async postId => {\n  const { data } = await axios.get(\n    `https://jsonplaceholder.typicode.com/posts/${postId}`\n  );\n  return data;\n};\n\nexport const findPostCommentsById = async postId => {\n  const { data } = await axios.get(\n    `https://jsonplaceholder.typicode.com/posts/${postId}/comments`\n  );\n  return data;\n};\n"],"names":["message","className","PostCommentsPage","lazy","postId","useParams","location","useLocation","backLinkHref","useRef","state","from","postDetails","useSelector","postDetailsData","isLoading","error","dispatch","useDispatch","useEffect","fetchAllPosts","setIsLoading","findPostById","postData","setPostDetails","setError","to","current","onClick","addPost","title","body","Suspense","fallback","path","element","fetchPosts","axios","data","findPostCommentsById"],"sourceRoot":""}